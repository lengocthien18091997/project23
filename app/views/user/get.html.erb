<!DOCTYPE html>
<html>
<head>
  <title>Find user</title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= stylesheet_link_tag "application", media: "all", "data-turbo-track": "reload" %>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-..." crossorigin="anonymous">
</head>
<body class="index">

<div class="header">
  <div>
    <%= image_tag "logo.jpg", alt: "Ảnh đại diện", class: "img-thumbnail", width: 100 %>
    <p>Find user</p>
  </div>
  <div>
    <% if current_user %>
      <p><%= current_user.role %> - <%= current_user&.full_name %></p>
      <%= button_to logout_path, method: :delete, class: "btn-logout", alt: "Logout" do %>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
          <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
        </svg>
      <% end %>
      <%= button_to user_update_path, method: :get, class: "btn-logout", alt: "Info" do %>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
             class="bi bi-box-arrow-left" viewBox="0 0 16 16">
          <path fill-rule="evenodd"
                d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"></path>
          <path fill-rule="evenodd"
                d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"></path>
        </svg>
      <% end %>
      </div>
    <% end %>
    </div>

<h2>Cập nhật thông tin</h2>

<%= form_with model: @current_user, url: user_update_path, method: :post, local: true, class: "update-form" do |f| %>
  <div class="form-group">
    <%= f.label :full_name, "Họ tên" %>
    <%= f.text_field :full_name, class: "form-control", placeholder: "Nhập họ tên..." %>
  </div>

  <div class="form-group">
    <%= f.label :email, "Email" %>
    <%= f.email_field :email, class: "form-control", placeholder: "Nhập email..." %>
  </div>

  <div class="form-group">
    <%= f.label :phone_number, "Số điện thoại" %>
    <%= f.text_field :phone_number, class: "form-control", placeholder: "Nhập số điện thoại..." %>
  </div>

  <div class="form-group">
    <%= f.label :gender, "Giới tính" %>
    <%= f.select :gender, [["", ""], ["nam", "male"], ["nữ", "female"]],
                 { prompt: "Chọn giới tính" },
                 class: "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :date_of_birth, "Ngày sinh" %>
    <%= f.date_select :date_of_birth,
                      start_year: 1900,
                      end_year: Time.current.year,
                      order: [:day, :month, :year],
                      class: "form-control" %>
  </div>

  <div class="form-check">
    <%= f.check_box :is_locked, class: "form-check-input" %>
    <%= f.label :is_locked, "Khóa tài khoản", class: "form-check-label" %>
  </div>

  <div class="form-actions mt-3">
    <%= f.submit "Cập nhật", class: "btn btn-success" %>
    <%= link_to "Hủy", user_update_path, class: "btn btn-secondary" %>
  </div>
<% end %>


</body>
</html>
